{% extends "base.html" %}

{% block content %}
{% load staticfiles %}
<div class="row">
    <h3>Comprehension - {{ comprehension.ComprehensionTitle }}</h3>
    <p>{{ comprehension.ComprehensionsText }}</p>
</div>
<h3>{{question}}</h3>
<div class="row">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th colspan="5">Question Details</th>
            </tr>
            <tr>
                <th>Question Type(s)</th>
                <th>Lexical Density</th>
                <th>Readability Index</th>
                <th>Punctuation Index</th>
                <th>COG</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{% for q in question.QuestionTypeID.all %}
                        {{q}}
                    {% endfor %}
                </td>
                <td>{{question.center_of_gravity.lexical_density}}</td>
                <td>{{question.center_of_gravity.readability_index}}</td>
                <td>{{question.center_of_gravity.punctuation_index}}</td>
                <td>X = {{question.center_of_gravity.cogX}}, Y = {{question.center_of_gravity.cogY}} <!--= {{question.center_of_gravity}}--></td>
            </tr>
        </tbody>
    </table>
</div>
<div class="row">
    <dl>
        <dt class="text-center">Sentences</dt>
        <dd>
            <table class="table table-bordered table-striped table-hover">
                <thead>
                    <tr>
                        <th>Sentence</th>
                        <th>Sentence Index</th>
                        <th>(X1,Y1)(X2,Y2)(X3,Y3)</th>
                        <th>Lexical Density</th>
                        <th>Readability Index</th>
                        <th>Punctuation Index</th>
                        <th>COG</th>
                    </tr>
                </thead>
                <tbody>
                        {%for answer in answers %}
                            <tr>
                                <td>{{answer.sentence}}</td>
                                <td>{{answer.sentence_index}}</td>
                                <td>
                                    ({{answer.sentence_cog.X1}},{{answer.sentence_cog.Y1}})<br>
                                    ({{answer.sentence_cog.X2}},{{answer.sentence_cog.Y2}})<br>
                                    ({{answer.sentence_cog.X3}},{{answer.sentence_cog.Y3}})
                                </td>
                                <td>{{answer.lexical_density|floatformat:6}}</td>
                                <td>{{answer.readability_index}}</td>
                                <td>{{answer.punctuation_index}}</td>
                                <td>X={{answer.cogX|floatformat:6}} <br> Y={{answer.cogY|floatformat:6}}</td>
                            </tr>
                        {% endfor %}
                </tbody>
            </table>
        </dd>
    </dl>
</div>
<!--{% for tag in tags %}
    {% for t in tag %}
        {{t}}, &nbsp;
    {% endfor %}<br>
{% endfor %}-->

<!--{{ graph.as_html }}-->

<input type="hidden" id="q_cog" value="{{q_cog_dump}}">


<div id="question_graph" align="center" style="min-height: 500px;"></div>

<input type="hidden" id="a_cog" value="{{answers_dump}}">


{% for f in filtered %}
    {{f}}<br>
{% endfor %}<br>
{% for p in hints %}
    {% for sent in p %}
        {{sent}}<br>
    {% endfor %}<br><br>
{% endfor %}<br>
{{findex}}<br>
{% for pr in pairs %}
    {% for p in pr %}
        {{p}}<br>
    {% endfor %}
{% endfor %}
{% endblock %}
</div>
